<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="/styles/setting.css">
  <title> Settings | Flappy Bird </title>

</head>

<body>
  <div class="background"></div>

  <div class="container">
    <h3 class="setting-title">Select Background Image</h3>
    <div class="setting-bg">
      <img src="../images/bg-img1.png" class="setting-bg-image selected" alt="bg-img1.png">
      <img src="../images/bg-img2.png" class="setting-bg-image" alt="bg-img2.png">
      <img src="../images/bg-img3.png" class="setting-bg-image" alt="bg-img3.png">
    </div>
  </div>

  <div class="container">
    <h3 class="setting-title">Select Avatar</h3>
    <div class="setting-avatar">
      <img src="../images/bird-1a.png" class="setting-avatar-image selected" alt1="bird-1a.png" alt2="bird-1b.png">
      <img src="../images/bird-2a.png" class="setting-avatar-image" alt1="bird-2a.png" alt2="bird-2b.png">
      <img src="../images/bird-3a.png" class="setting-avatar-image" alt1="bird-3a.png" alt2="bird-3b.png">
    </div>
  </div>

  <div class="container">
    <h3 class="setting-title">Select Music</h3>
    <div class="setting-music">
      <div class="setting-music-div">
        <div class="form-check">
          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
          <label class="form-check-label" for="inlineRadio1">
            No Music
            <img class="music-mute" src="../images/icons8-mute-16.png" alt="mute-icon">
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option2">
          <label class="form-check-label" for="inlineRadio1">
            <audio controls>
              <source src="../sound-effects/point.mp3" type="audio/mpeg">
              Your browser does not support the audio tag.
            </audio>
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option3">
          <label class="form-check-label" for="inlineRadio2">
            <audio controls>
              <source src="../sound-effects/point.mp3" type="audio/mpeg">
              Your browser does not support the audio tag.
            </audio>
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="setting-submit">
    <a href="/pages/play.html" class="btn btn-success">Start the Game</a>
  </div>

  <script>
    // Default values
    window.localStorage.setItem("bird-img-a", "bird-1a.png");
    window.localStorage.setItem("bird-img-b", "bird-1b.png");

    // Avatar selection
    let bird_imgs = document.querySelectorAll(".setting-avatar-image");
    for (let i = 0; i < bird_imgs.length; i++) {
      bird_imgs[i].addEventListener('click', (e) => {
        for (let i = 0; i < bird_imgs.length; i++)
          bird_imgs[i].classList.remove('selected');
        bird_imgs[i].classList.add("selected");
        window.localStorage.setItem("bird-img-a", bird_imgs[i].attributes.alt1.nodeValue);
        window.localStorage.setItem("bird-img-b", bird_imgs[i].attributes.alt2.nodeValue);
      })
    }

    // Background selection
    let bg_imgs = document.querySelectorAll(".setting-bg-image");
    for (let i = 0; i < bg_imgs.length; i++) {
      bg_imgs[i].addEventListener('click', (e) => {
        for (let i = 0; i < bg_imgs.length; i++)
          bg_imgs[i].classList.remove('selected');
        bg_imgs[i].classList.add("selected");
        window.localStorage.setItem("background-img", bg_imgs[i].alt);
      })
    }
  </script>
</body>

</html>